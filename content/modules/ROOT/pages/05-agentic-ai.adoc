= Agentic AI and 3rd Party Frameworks

== Fantaco: Agentic AI App Architecture



=== Deploy Microservices

[.console-input]
[source,bash,role="copypaste",subs=attributes+]
----
helm install fantaco-app ./helm/fantaco-app
----

[.console-output]
[source,bash,subs=attributes+]
----
NAME: fantaco-app
LAST DEPLOYED: Fri Dec 12 23:01:21 2025
NAMESPACE: showroom-z88vj-1-user1
STATUS: deployed
REVISION: 1
TEST SUITE: None
----

[.console-input]
[source,bash,role="copypaste",subs=attributes+]
----
oc get pods
----

[.console-output]
[source,bash,subs=attributes+]
----
NAME                                     READY   STATUS    RESTARTS      AGE
fantaco-customer-main-59b5fffd5b-8jvfv   1/1     Running   2 (98s ago)   3m40s
fantaco-finance-main-84dcf757b4-g7f68    1/1     Running   0             3m40s
postgresql-customer-ff78dffdf-ffszp      1/1     Running   0             3m40s
postgresql-finance-689d97894f-pf8jx      1/1     Running   0             3m40s
showroom-7b5b6c9979-l4f2n                3/3     Running   0             4h42m
----

=== Deploy MCP Servers

[.console-input]
[source,bash,role="copypaste",subs=attributes+]
----
helm install fantaco-mcp ./helm/fantaco-mcp
----

[.console-output]
[source,bash,subs=attributes+]
----
NAME: fantaco-mcp
LAST DEPLOYED: Fri Dec 12 23:01:44 2025
NAMESPACE: showroom-z88vj-1-user1
STATUS: deployed
REVISION: 1
TEST SUITE: None
----

[.console-input]
[source,bash,role="copypaste",subs=attributes+]
----
oc get pods
----

[.console-output]
[source,bash,subs=attributes+]
----
NAME                                     READY   STATUS    RESTARTS      AGE
fantaco-customer-main-59b5fffd5b-8jvfv   1/1     Running   2 (98s ago)   3m40s
fantaco-finance-main-84dcf757b4-g7f68    1/1     Running   0             3m40s
mcp-customer-6bd8bcfc7b-zl4jq            1/1     Running   0             3m20s
mcp-finance-75bd497cfd-jkqf2             1/1     Running   0             3m20s
postgresql-customer-ff78dffdf-ffszp      1/1     Running   0             3m40s
postgresql-finance-689d97894f-pf8jx      1/1     Running   0             3m40s
showroom-7b5b6c9979-l4f2n                3/3     Running   0             4h42m
----

== Create LLamaStack Agent

=== Prereq

[.console-input]
[source,bash,role="copypaste",subs=attributes+]
----
cd simple-agent-langgraph/
cp .env.k8s.example .env
----



=== MCP

==== Register Customer MCP server

[.console-input]
[source,bash,role="copypaste",subs=attributes+]
----
python 1_register_customer_mcp.py
----

[.console-output]
[source,bash,subs=attributes+]
----
INFO:__main__:Registering customer MCP server at http://mcp-customer-service:9001/mcp
INFO:httpx:HTTP Request: POST https://llamastack-distribution-vllm-service:8321/v1/toolgroups "HTTP/1.1 200 OK"
INFO:__main__:Customer MCP server registered successfully
----


==== Register Finance MCP server

[.console-input]
[source,bash,role="copypaste",subs=attributes+]
----
python 1_register_finance_mcp.py
----

[.console-output]
[source,bash,subs=attributes+]
----
INFO:__main__:Registering finance MCP server at http://mcp-finance-service:9001/mcp
INFO:httpx:HTTP Request: POST https://llamastack-distribution-vllm-service:8321/v1/toolgroups "HTTP/1.1 200 OK"
INFO:__main__:Finance MCP server registered successfully
----

==== List Tools

[.console-input]
[source,bash,role="copypaste",subs=attributes+]
----
python 2_list_tools.py
----

[.console-output]
[source,bash,subs=attributes+]
----
INFO:__main__:Fetching list of registered toolgroups
INFO:httpx:HTTP Request: GET https://llamastack-showroom-nzq4x-1-user1.apps.cluster-nzq4x.dynamic.redhatworkshops.io/v1/toolgroups "HTTP/1.1 200 OK"
INFO:__main__:Registered Toolgroups:
INFO:__main__:--------------------------------------------------
INFO:__main__:Toolgroup ID: builtin::websearch
INFO:__main__:Provider ID: tavily-search
INFO:__main__:--------------------------------------------------
INFO:__main__:Toolgroup ID: builtin::rag
INFO:__main__:Provider ID: rag-runtime
INFO:__main__:--------------------------------------------------
INFO:__main__:Toolgroup ID: customer_mcp
INFO:__main__:Provider ID: model-context-protocol
INFO:__main__:MCP Endpoint URI: http://mcp-customer-service:9001/mcp
INFO:__main__:--------------------------------------------------
INFO:__main__:Toolgroup ID: finance_mcp
INFO:__main__:Provider ID: model-context-protocol
INFO:__main__:MCP Endpoint URI: http://mcp-finance-service:9002/mcp
INFO:__main__:--------------------------------------------------
----